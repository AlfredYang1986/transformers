@(token : String)(open_id : String)(name : String)(cities : List[play.api.libs.json.JsValue])(vc : play.api.libs.json.JsValue)(product_lst : List[play.api.libs.json.JsValue])

@driver_login_index_sliders("易聚货驾驶员平台")(name) {
    
} {
    <div id="page-content-wrapper">
        <div id="page-content">
            <div class="container">

                <div id="page-title"></div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="panel">
                            <div class="panel-body">

                                <h3 class="title-hero">
                                    路线搜索货源栏
                                </h3>

                                <div class="example-box-wrapper">
                                    <div class="panel-group" id="accordion">
                                       <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" style="font-size:12px;">
                                                        起运地选择
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseOne" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                <div class="col-sm-12">

                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>浙江省</option>
                                                            </select>   
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>杭州市</option>
                                                            </select>   
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>江干区</option>

                                                            </select>   
                                                        </div>                                     
                                                    </div> 

                                                </div>
                                                </div>
                                            </div>
                                        </div>

                                       <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseTne" style="font-size:12px;">
                                                        目的地选择
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseTne" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                <div class="col-sm-12">

                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>浙江省</option>
                                                            </select>   
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>杭州市</option>
                                                            </select>   
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <select class="form-control">
                                                                <option selected>江干区</option>

                                                            </select>   
                                                        </div>                                     
                                                    </div> 

                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" style="font-size:12px;">
                                                        需求车型
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseTwo" class="panel-collapse collapse">
                                                <label class="row" > </label>
                                                @{(vc \ "vehicle").asOpt[List[String]].get map { x =>
                                                <div class="col-sm-2 checkbox">
                                                    <label><input data-name="vehicle" type="checkbox" value={x} /> {x} </label>
                                                </div>
                                                }}
                                            </div>
                                        </div>

                                        <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" style="font-size:12px;">
                                                        需求车长
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseThree" class="panel-collapse collapse">
                                                @{(vc \ "vehicle_length").asOpt[List[Double]].get map { x =>
                                                <div class="col-sm-2 checkbox">
                                                    <label><input data-name="vehicle-length" type="checkbox" value={x.toString} /> {x.toString}米 </label>
                                                </div>
                                                }}
                                            </div>
                                        </div>

                                        <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseFive" style="font-size:12px;">
                                                        吨位
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseFive" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                <div class="row">
                                                    <div class="col-xs-5">
                                                         <input type="text" class="form-control col-xs-12" placeholder="最低吨位">  
                                                    </div>

                                                    <div class="col-xs-2 text-center">
                                                        <i class="fa fa-long-arrow-right fa-2x" aria-hidden="true"></i>
                                                    </div>

                                                    <div class="col-xs-5">
                                                        <input type="text" class="form-control col-xs-12" placeholder="最高吨位">  
                                                    </div>
                                             
                                                </div> 
                                                </div>
                                            </div>
                                        </div>

                                        <div class="panel">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseSix" style="font-size:12px;">
                                                        体积
                                                        <i class="glyph-icon icon-angle-down"></i>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseSix" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                <div class="row">
                                                    <div class="col-xs-5">
                                                         <input type="text" class="form-control col-xs-12" placeholder="最低体积">  
                                                    </div>

                                                    <div class="col-xs-2 text-center">
                                                        <i class="fa fa-long-arrow-right fa-2x" aria-hidden="true"></i>
                                                    </div>

                                                    <div class="col-xs-5">
                                                        <input type="text" class="form-control col-xs-12" placeholder="最高体积">  
                                                    </div>
                                             
                                                </div> 
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <button type="button" class="btn btn-info mrg20B col-sm-2 col-xs-12" style="font-size:15px">
                                    确认搜索
                                </button>
                 
                            </div>
                        </div>
                    </div>
                 </div>

                 @{ (product_lst zipWithIndex) map { item => 
                    val iter = item._1
                    val index = item._2

                    val origin = (iter \ "origin").asOpt[play.api.libs.json.JsValue].get
                    val destination = (iter \ "destination").asOpt[play.api.libs.json.JsValue].get

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="panel">
                                <div class="panel-body">
                                    <h3 class="title-hero">
                                        
                                    </h3>

                                    <div class="example-box-wrapper">
                                        <div class="row">

                                            <div class="col-sm-12">

                                                <div class="row">
                                                    <div class="col-sm-6" style="font-size:15px">
                                                        {
                                                            (origin \ "province").asOpt[String].get + (origin \ "city").asOpt[String].get
                                                        }
                                                            <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                                                        {
                                                            (destination \ "province").asOpt[String].get + (destination \ "city").asOpt[String].get
                                                        }
                                                    </div>

                                                    <div class="col-sm-4" style="font-size:15px">
                                                        {(iter \ "product_name").asOpt[String].get}  /  {(iter \ "weight").asOpt[Float].get} 吨  / {(iter \ "volume").asOpt[Float].get} 立方米
                                                    </div>  

                                                    <button type="button" class="btn btn-info mrg20B col-sm-2 col-xs-12" data-toggle="collapse" data-target={"#depart-view-" + index} style="font-size:15px">
                                                        查看详情
                                                    </button>

                                                </div>

                                                <div id={"depart-view-" + index} class="collapse">

                                                    <div class="panel">

                                                        <div class="panel-body">
                                                        <div class="form-horizontal bordered-row" role="form">
                                                            <div class="form-group">
                                                                <label for="certificate-type" class="col-sm-2 control-label">起运地</label>
                                                                <div class="col-sm-8">
                                                                    <label type='text' class="control-label">{(origin \ "province").asOpt[String].get + " " + (origin \ "city").asOpt[String].get}</label> 
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label for="certificate-type" class="col-sm-2 control-label">目的地</label>
                                                                <div class="col-sm-8">
                                                                    <label type='text' class="control-label"> {(destination \ "province").asOpt[String].get + " " + (destination \ "city").asOpt[String].get}</label> 
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">吨位</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "weight").asOpt[Float].get} 吨</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">体积</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "volume").asOpt[Float].get} 立方米</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">需求车型</label>
                                                                <div class="col-sm-6">
                                                                    { (iter \ "vehicle").asOpt[List[String]].get map { v => 
                                                                        <label type="text" class="control-label">{v}</label>
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">需求车长</label>
                                                                <div class="col-sm-6">
                                                                    { (iter \ "vehicle_length").asOpt[List[Double]].get map { v => 
                                                                        <label type="text" class="control-label">{v}米</label>
                                                                    }}
                                                                    
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">货物名称</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "product_name").asOpt[String].get}</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">时效需求</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "date_requirement").asOpt[String].get}</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">其他备注</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "notes").asOpt[String].get}</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">所属公司</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">澳深科技有限公司</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">联系人</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "contact_name").asOpt[String].get}</label>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-sm-2 control-label">联系人电话</label>
                                                                <div class="col-sm-6">
                                                                    <label type="text" class="control-label">{(iter \ "contact_phone").asOpt[String].get}</label>
                                                                </div>
                                                            </div> 

                                                        </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }}
            </div>
        </div>
    </div>

} {
	<script type="text/javascript">
		$(function(){
			$('li[data-current="index"]').addClass("active");
		});
	</script>
}
